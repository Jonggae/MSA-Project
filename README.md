

# Yakku MSA í”„ë¡œì íŠ¸
***
## ğŸš€ í”„ë¡œì íŠ¸ ê°œìš”
- ì¼ë°˜ì ì¸ ìƒí’ˆ êµ¬ë§¤ í”„ë¡œì„¸ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ê¸°ë³¸ì ì¸ e-commerce ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
- íŠ¹ì • ì‹œê°„ì— ë§ì€ ìš”ì²­ì´ ëª°ë¦¬ëŠ” ì˜ˆì•½ êµ¬ë§¤ ìƒí™©ì—ì„œ í•„ìš”í•œ ë™ì‹œì„± ì²˜ë¦¬ ë¡œì§ìœ¼ë¡œ ì‹œìŠ¤í…œ ì•ˆì •ì„±ì„ í™•ë³´ í•˜ì˜€ìŠµë‹ˆë‹¤.
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì„œë¹„ìŠ¤ë¥¼ ë¶„ë¦¬í•˜ê³ , ì„œë¹„ìŠ¤ ê°„ íš¨ìœ¨ì ì¸ ë°ì´í„° í†µì‹  ë° ê´€ë¦¬ ë°©ì‹ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
- API Gatewayì™€ Eureka Service Discoveryë¥¼ í†µí•´ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ì˜ ìœ ì—°í•œ í†µì‹ ê³¼ í™•ì¥ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤.

ì´ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ MSAì˜ ê¸°ë³¸ êµ¬ì„± ë°©ë²•ì„ ìµíˆê³ , ëŒ€ê·œëª¨ íŠ¸ë˜í”½ ì²˜ë¦¬, ì„œë¹„ìŠ¤ ê°„ í†µì‹ , ë°ì´í„° ì¼ê´€ì„± ìœ ì§€ ë“± ë‹¤ì–‘í•œ ê¸°ìˆ ì  ê³¼ì œë“¤ì„ ì ‘í•´ë³´ì•˜ìŠµë‹ˆë‹¤.
****
## ğŸ” ERD
![erd.png](images/erd.png)
## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ
### ğŸ‘¨â€ğŸ’» Backend
![Java](https://img.shields.io/badge/Java_21-ED8B00?style=for-the-badge&logo=openjdk&logoColor=white)
![Spring](https://img.shields.io/badge/Springboot_3.3.0-6DB33F?style=for-the-badge&logo=spring&logoColor=white)
![Spring Cloud](https://img.shields.io/badge/Spring_Cloud-6DB33F?style=for-the-badge&logo=spring&logoColor=white)

### ğŸ’¿ Database
![MySQL](https://img.shields.io/badge/MySQL-00000F?style=for-the-badge&logo=mysql&logoColor=white)
![Redis](https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white)
### ğŸ” Etc
![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)
![Eureka](https://img.shields.io/badge/Eureka_Client-2496ED?style=for-the-badge&logo=spring&logoColor=white)
![Feign](https://img.shields.io/badge/Feign_Client-brightgreen?style=for-the-badge)

***
## ğŸ“’ ì•„í‚¤í…ì²˜ ê°œìš”
![ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨](images/Architecture.jpg)
***
## ğŸ‘¨â€ğŸ’» í”„ë¡œì íŠ¸ ì£¼ìš” ì„œë¹„ìŠ¤
- API Gateway
- Eureka Server (ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬)
- Customer Service
- Product Service
- Order Service
- Payment Service
***
## âœ¨ ì£¼ìš” ê¸°ëŠ¥
- E-commerce ì£¼ìš” ê¸°ëŠ¥ì¸ ìƒí’ˆ, ì£¼ë¬¸, ê²°ì œ, ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ê¸°ëŠ¥
- JWT ê¸°ë°˜ì˜ ì‚¬ìš©ì ì‹ë³„, ë¡œê·¸ì¸ ê¸°ëŠ¥
- ì˜ˆì•½ êµ¬ë§¤ ìƒí™©ì—ì„œ ëŒ€ëŸ‰ì˜ ì£¼ë¬¸ ìš”ì²­ì‹œ ìºì‹±ê³¼ Redisson, ë¶„ì‚° ë½ì„ í†µí•˜ì—¬ ëª…í™•í•œ ì¬ê³  ê´€ë¦¬
***
## ğŸ›« ì‹œì‘í•˜ê¸°
- í˜„ì¬ êµ¬ì¡° ê°œí¸ì¤‘ìœ¼ë¡œ ì‹¤í–‰ì´ ë¶ˆê°€í•©ë‹ˆë‹¤. ì—…ë°ì´íŠ¸ ì˜ˆì •
  <details>
  <summary> ì„ì‹œ ì‹¤í–‰ ë°©ë²•</summary>

  [![Eureka Server](https://img.shields.io/badge/Eureka%20Server-blue?style=for-the-badge&logo=github)](https://github.com/Jonggae/yakku-eureka)
  [![API Gateway](https://img.shields.io/badge/API%20Gateway-blue?style=for-the-badge&logo=github)](https://github.com/Jonggae/yakku-APIGateway)
  [![User Service](https://img.shields.io/badge/User%20Service-blue?style=for-the-badge&logo=github)](https://github.com/Jonggae/yakku-user-service)
  
  [![Product Service](https://img.shields.io/badge/Product%20Service-blue?style=for-the-badge&logo=github)](https://github.com/Jonggae/yakku-product-service)
  [![Order Service](https://img.shields.io/badge/Order%20Service-blue?style=for-the-badge&logo=github)](https://github.com/Jonggae/yakku-order-service)
  [![Payment Service](https://img.shields.io/badge/Payment%20Service-blue?style=for-the-badge&logo=github)](https://github.com/Jonggae/yakku-payment-service)
  
  - ë¶„ë¦¬ëœ ê° Repositoryì— ì ‘ê·¼í•©ë‹ˆë‹¤.
  - terminalì—ì„œ ê° docker-composeë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. 
      
    ```docker-compose up -d```
  - ì„œë¹„ìŠ¤ ì‹¤í–‰ ìˆœì„œ: Eureka Server > API Gateway > ê¸°íƒ€ ì„œë¹„ìŠ¤
  - ëª¨ë“  ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ëœ í›„, http://localhost:8761 ì— ì ‘ì†í•˜ì—¬ ì‹œìŠ¤í…œ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  </details>
***
## ğŸ“¶ì„±ëŠ¥ ìµœì í™” ë° íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
#### 1. ì˜ëª»ëœ Kafkaì˜ ì‚¬ìš© ê°œì„ 
- ì„œë¹„ìŠ¤ê°„ **ëª¨ë“  ìš”ì²­**ì— Kafkaë¥¼ ì ìš©í•˜ë ¤ í•¨
- **í•´ê²°** : ì™¸ë¶€ì„œë¹„ìŠ¤ì˜ ë°ì´í„°ë¥¼ ë‹¨ìˆœíˆ ì½ì–´ì˜¤ëŠ” ë¶€ë¶„ì€ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•  í•„ìš”ê°€ ì—†ê¸°ë•Œë¬¸ì— Feign Clientë¥¼ ì‚¬ìš©
- ë¦¬ì†ŒìŠ¤ë¥¼ ì ˆì•½í•˜ê³  ê¸°ëŠ¥ êµ¬í˜„ ì‹œê°„ì„ ì•„ë‚„ ìˆ˜ ìˆì—ˆìŒ

####  2. 1ë§Œ ê±´ì˜ êµ¬ë§¤ ìš”ì²­ì‹œ, ìš”ì²­ ìˆœì„œê°€ ë³´ì¥ë˜ì§€ ì•ŠìŒ
- ìš”ì²­ëœ ìˆœì„œëŒ€ë¡œ êµ¬ë§¤ì— ì„±ê³µí•˜ëŠ” ê²ƒë„ ì•„ë‹ˆê³ , ë™ì‹œ ìš”ì²­ìœ¼ë¡œ ì¸í•´ ì¬ê³ ê°€ ì „ë¶€ ì†Œì§„ë˜ì§€ë„ ì•Šì•˜ëŠ”ë° ì¬ê³  ë¶€ì¡± ë©”ì‹œì§€ ì „ì†¡
- **í•´ê²°** : Redisson ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ê³µì •ì„± í™•ë³´ì™€ ì‹¤íŒ¨ í›„ ì¬ì‹œë„ ë¡œì§ì„ êµ¬ì„±

#### 3. Redissonì„ ì ìš©í•˜ì˜€ì„ ë•Œ, ì´ í…ŒìŠ¤íŠ¸ ì‹œê°„ì´ ê¸‰ê²©íˆ ì¦ê°€í•¨
- Redisson ì ìš© ì „ê³¼ í›„ í…ŒìŠ¤íŠ¸ ì‹œê°„ì´ **60ì´ˆ** -> **400~500ì´ˆ**ë¡œ **600% ì´ìƒ** ê¸‰ê²©íˆ ì¦ê°€ 


- **ê°œì„  ë°©ì•ˆ** 
- ë°˜ë³µëœ ìƒí’ˆ ì •ë³´ ì¡°íšŒë¥¼ ìºì‹±ìœ¼ë¡œ ì²˜ë¦¬
- ë½ íšë“ ëŒ€ê¸°ì‹œê°„ì„ ê°ì†Œ (5000ms -> 2000ms)
- ì „ì²´ ë¡œì§ì´ ì•„ë‹Œ ì¬ê³  ì²˜ë¦¬ì‹œì—ë§Œ ë½ì„ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½

- 1ì°¨ì ì¸ ê°œì„  ê²°ê³¼ ì´ í…ŒìŠ¤íŠ¸ ì‹œê°„ì´ **90~100ì´ˆ** ì •ë„ë¡œ ê°ì†Œí•¨ 
- ëŒ€ëµ 7~80% ì •ë„ì˜ ì„±ëŠ¥ í–¥ìƒì„ ë³´ì„. 



***
## ğŸ“±ì—°ë½ì²˜
- ìµœì¢…ìš° (Choi JongWoo)
- muvnelik@naver.com

  [![GitHub](https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=github)](https://github.com/Jonggae)
  [![Blog](https://img.shields.io/badge/Blog-Tistory-FF5722?style=for-the-badge&logo=blogger)](https://jonggae.tistory.com/)

